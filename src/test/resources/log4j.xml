<?xml version="1.0" encoding="UTF-8" ?><!DOCTYPE log4j:configuration SYSTEM
  "http://logging.apache.org/log4j/1.2/apidocs/org/apache/log4j/xml/doc-files/log4j.dtd">
<!--
This file is part of the au-log4j package; aka Athabasca University log4j
addons.

Copyright Trenton D. Adams &lt;trenton daught d daught adams at gmail daught ca&gt;

au-log4j is free software: you can redistribute it and/or modify it under
the terms of the GNU Lesser General Public License as published by the
Free Software Foundation, either version 3 of the License, or (at your
option) any later version.

au-log4j is distributed in the hope that it will be useful, but WITHOUT ANY
WARRANTY; without even the implied warranty of MERCHANTABILITY or
FITNESS FOR A PARTICULAR PURPOSE.  See the GNU Lesser General Public
License for more details.

You should have received a copy of the GNU Lesser General Public 
License along with au-log4j.  If not, see &lt;http://www.gnu.org/licenses/&gt;.

See the COPYING file for more information.
  -->

<log4j:configuration debug="false"
                     xmlns:log4j="http://jakarta.apache.org/log4j/">
  <!-- NOTE: The order of elements in this log configuration do matter.  If
  you make changes, ensure that errors are not being printed to catalina.out
  -->
  <appender name="smtpAppender"
            class="ca.athabascau.util.log4j.SMTPAppender">
    <param name="threshold"
           value="ERROR"/>
    <param name="BufferSize"
           value="1"/>
    <param name="SMTPHost"
           value="localhost"/>
    <param name="SMTPPort"
           value="25"/>
    <param name="SMTPDebug"
           value="true"/>
    <param name="From"
           value="primary@example.com"/>
    <param name="To"
           value="primary@example.com"/>
    <param name="SendOnClose"
           value="true"/>
    <param name="Subject"
           value="error log test"/>
    <!-- frequency per second = Frequency/FrequencyMilliseconds/1000 -->
    <param name="FloodFrequency"
           value="5"/>
    <param name="FloodFrequencyMilliseconds"
           value="1000"/>
    <param name="FloodEnabledMessage"
           value="Mail logging flood protection activated, no more errors will be sent until the frequency has dropped below the threshold of 5 messages per 1000ms."/>
    <layout class="org.apache.log4j.PatternLayout">
      <param name="ConversionPattern"
             value="%5p | %-40c{2} | %-4L | %d{yyyy-MM-dd}T%d{HH:mm:ss} | %m%n"/>
    </layout>
  </appender>
  <root>
    <level value="INFO"/>
    <appender-ref ref="smtpAppender"/>
  </root>

</log4j:configuration>
